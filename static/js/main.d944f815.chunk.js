(this["webpackJsonppart-time-theater"]=this["webpackJsonppart-time-theater"]||[]).push([[0],{43:function(e,t,i){},44:function(e,t,i){},47:function(e,t,i){},49:function(e,t,i){"use strict";i.r(t);var c=i(16),n=i.n(c),a=i(33),s=i.n(a),r=(i(43),i(44),i(6)),d=i(29),o=i(13),l=i(30),m=i(51),j=i(19),b=i(34),u=i(37),h=i(36),_=Object(b.a)({apiKey:"AIzaSyAS_QmWcTGcmAhlL5NPcGS-kRQ8GSlJBmM",authDomain:"part-time-theater.firebaseapp.com",projectId:"part-time-theater",storageBucket:"part-time-theater.appspot.com",messagingSenderId:"52098331465",appId:"1:52098331465:web:4d63c3378b5f68203f2098",measurementId:"G-XF42QC7WNH"}),O=(Object(u.a)(_),Object(h.a)());var p=i(50);i(47);var v=i(9),f=function(){var e=n.a.useState("upcoming"),t=Object(o.a)(e,2),i=t[0],c=t[1],a=function(){var e=n.a.useState(void 0),t=Object(o.a)(e,2),i=t[0],c=t[1];return n.a.useEffect((function(){Object(j.b)(Object(j.e)(Object(j.a)(O,"showtime"),Object(j.d)("datetime","desc"))).then((function(e){c(e.docs.map((function(e){return{id:e.id,dvd:e.get("dvd"),datetime:e.get("datetime").toDate()}})))}))}),[]),n.a.useMemo((function(){if(void 0===i)return{upcoming:void 0,past:void 0};var e=[],t=[],c=new Date;return i.forEach((function(i){Object(p.a)(i.datetime,c)?t.push(i):e.push(i)})),{upcoming:e,past:t}}),[i])}(),s=function(){var e=n.a.useState(void 0),t=Object(o.a)(e,2),i=t[0],c=t[1];return n.a.useEffect((function(){Object(j.b)(Object(j.a)(O,"dvd")).then((function(e){c(e.docs.map((function(e){return{id:e.id,title:e.get("title"),titleIMDb:e.get("titleIMDb"),director:e.get("director"),directorIMDb:e.get("directorIMDb"),year:e.get("year")}})))}))}),[]),i}(),b=n.a.useMemo((function(){return void 0===s?{}:s.reduce((function(e,t){return Object(d.a)(Object(d.a)({},e),{},Object(r.a)({},t.id,Object(d.a)({},t)))}),{})}),[s]);return Object(v.jsxs)("div",{className:"list",children:[Object(v.jsxs)("div",{className:"list__tab-container",children:[Object(v.jsx)("h2",{className:Object(l.a)("list__tab","upcoming"===i&&"list__tab--active"),onClick:function(){return c("upcoming")},children:"Upcoming"}),Object(v.jsx)("h2",{className:Object(l.a)("list__tab","past"===i&&"list__tab--active"),onClick:function(){return c("past")},children:"Past"}),Object(v.jsx)("h2",{className:Object(l.a)("list__tab","lib"===i&&"list__tab--active"),onClick:function(){return c("lib")},children:"Lib"})]}),Object(v.jsxs)("div",{className:"list__items-container",children:["upcoming"===i&&(void 0===a||void 0===a.upcoming?Object(v.jsx)("div",{className:"items-container__item--empty",children:"Loading..."}):0===a.upcoming.length?Object(v.jsx)("div",{className:"list__items-container__item--empty",children:"Nothing yet."}):a.upcoming.map((function(e){var t=b[e.dvd];return console.log(e),t?Object(v.jsxs)("div",{className:"list__items-container__showtime-item",children:[Object(v.jsx)("div",{children:t.title}),Object(v.jsx)("div",{children:Object(m.a)(e.datetime,"HH:mm MMM do")})]},e.id):Object(v.jsx)("div",{className:"list__items-container__item--empty",children:"-"},e.id)}))),"past"===i&&(void 0===a||void 0===a.past?Object(v.jsx)("div",{className:"list__items-container__item--empty",children:"Loading..."}):0===a.past.length?Object(v.jsx)("div",{className:"list__items-container__item--empty",children:"Nothing yet."}):a.past.map((function(e){var t=b[e.dvd];return t?Object(v.jsxs)("div",{className:"list__items-container__showtime-item",children:[Object(v.jsx)("div",{children:t.title}),Object(v.jsx)("div",{children:Object(m.a)(e.datetime,"HH:mm MMM do")})]},e.id):Object(v.jsx)("div",{className:"list__items-container__item--empty",children:"-"},e.id)}))),"lib"===i&&(void 0===s?Object(v.jsx)("div",{className:"list__items-container__item--empty",children:"Loading..."}):0===s.length?Object(v.jsx)("div",{className:"list__items-container__item--empty",children:"Nothing yet."}):s.map((function(e){return Object(v.jsxs)("div",{className:"list__items-container__item",children:[Object(v.jsxs)("a",{href:e.titleIMDb,rel:"noreferrer",target:"_blank",children:[e.title," (",e.year,")"]}),Object(v.jsx)("a",{href:e.directorIMDb,rel:"noreferrer",target:"_blank",children:e.director})]},e.id)})))]})]})};var g=function(){return Object(v.jsxs)("div",{className:"container",children:[Object(v.jsxs)("main",{children:[Object(v.jsx)("h1",{"data-shadow":"Part-time Theater",children:"Part-time Theater"}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("h3",{children:"\ud83c\udf7f\ufe0f Opens occasionally."}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{className:"list-container",children:Object(v.jsx)(f,{})})]}),Object(v.jsx)("footer",{children:"\xa9\ufe0f2021 CHENGKANG. All rights reserved."})]})},x=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,52)).then((function(t){var i=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,s=t.getTTFB;i(e),c(e),n(e),a(e),s(e)}))};s.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(g,{})}),document.getElementById("root")),x()}},[[49,1,2]]]);
//# sourceMappingURL=main.d944f815.chunk.js.map